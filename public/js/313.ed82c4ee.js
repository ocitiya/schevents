"use strict";(globalThis["webpackChunkhome_app"]=globalThis["webpackChunkhome_app"]||[]).push([[313],{7682:(e,t,a)=>{a.d(t,{Z:()=>s});a(6727);var l=a(3701),i=a(9302);const{getScrollTarget:n,setVerticalScrollPosition:o}=l.ZP;(0,i.Z)();class s{static generateURLParams(e,t,a){return e.includes("?")?e+=`&${t}=${a}`:e+=`?${t}=${a}`,e}static scrollToElement(e,t=null){const a=n(e),l=null===t?e.offsetTop:t,i=500;o(a,l,i)}static loading(e,t=!0,a=null){t?e.$q.loading.show({message:null===a?"Loading ...":a}):e.$q.loading.hide()}}},5313:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var l=a(9835),i=a(6970);const n=e=>((0,l.dD)("data-v-4e21f79a"),e=e(),(0,l.Cn)(),e),o={class:"page bg-accent",style:{"min-height":"inherit"}},s=n((()=>(0,l._)("div",{class:"text-center text-h5 text-white text-bold bg-secondary q-py-xl"}," Events ",-1))),r={class:""},d={class:"text-right bg-secondary q-pr-md q-pt-lg"},c={key:0,class:"flex flex-center q-py-xl",style:{gap:"40px"}},u={class:"card-event-container"},p={class:"flex flex-center q-my-lg"},g=["src"],h={key:0,class:""},m={key:1,class:""},f={class:""},w={key:1,class:"text-center q-mt-xl text-body1"};function v(e,t,a,n,v,b){const _=(0,l.up)("q-badge"),y=(0,l.up)("q-btn"),Z=(0,l.up)("q-tab"),q=(0,l.up)("q-tabs"),k=(0,l.up)("q-img"),D=(0,l.up)("q-card-section"),W=(0,l.up)("q-card"),x=(0,l.up)("q-infinite-scroll"),C=(0,l.up)("q-pull-to-refresh"),Q=(0,l.up)("event-filter");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("div",null,[s,(0,l._)("div",r,[(0,l._)("div",d,[(0,l.Wm)(y,{label:"filter",icon:"filter_alt",unelevated:"",color:"primary",onClick:b.showFilterDialog},{default:(0,l.w5)((()=>[e.has_filter?((0,l.wg)(),(0,l.j4)(_,{key:0,floating:"",color:"white",rounded:""})):(0,l.kq)("",!0)])),_:1},8,["onClick"])]),(0,l.Wm)(q,{modelValue:e.tab,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.tab=t),t[1]||(t[1]=()=>b.getEvents(1))],"inline-label":"",ref:"tab",class:"bg-secondary text-primary","active-class":"text-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{name:"upcoming",label:"Upcoming"}),(0,l.Wm)(Z,{name:"live",label:"Live"})])),_:1},8,["modelValue"]),(0,l.Wm)(C,{onRefresh:b.refresh},{default:(0,l.w5)((()=>[e.data.length>0?((0,l.wg)(),(0,l.iD)("div",c,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.data,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id},[(0,l.Wm)(x,{onLoad:b.loadMore},{default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l.Wm)(W,{class:"event-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l._)("div",p,[null!==t.image?((0,l.wg)(),(0,l.j4)(k,{key:0,class:"logo",src:`${e.$host}/storage/event/image/${t.image}`,ratio:1},{error:(0,l.w5)((()=>[(0,l._)("img",{src:`${e.$host}/images/no-logo-1.png`,style:{width:"100%",height:"100%"}},null,8,g)])),_:2},1032,["src"])):((0,l.wg)(),(0,l.j4)(k,{key:1,class:"logo",src:`${e.$host}/images/no-logo-1.png`,ratio:1},null,8,["src"]))]),null!==t.end_date?((0,l.wg)(),(0,l.iD)("div",h,(0,i.zw)(b.parseDate(t.start_date))+" - "+(0,i.zw)(b.parseDate(t.end_date)),1)):((0,l.wg)(),(0,l.iD)("div",m,(0,i.zw)(b.parseDate(t.start_date)),1)),(0,l._)("div",f,(0,i.zw)(t.name),1),(0,l.Wm)(D,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{unelevated:"",label:"Join",color:"black",disable:null===t.offer,onClick:e=>b.openPage(t.offer.short_link)},null,8,["disable","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])])),_:2},1032,["onLoad"])])))),128))])):((0,l.wg)(),(0,l.iD)("div",w," No Data "))])),_:1},8,["onRefresh"]),(0,l.Wm)(Q,{show:e.filter.dialog,onHide:b.hideFilterDialog,onFilter:b.onFilter},null,8,["show","onHide","onFilter"])])])])}a(702);var b=a(7682),_=(a(9829),a(3878)),y=a.n(_);const Z=(0,l._)("div",{class:"text-h6 text-primary"},"Filter",-1),q={class:"row items-center justify-end"};function k(e,t,a,i,n,o){const s=(0,l.up)("q-card-section"),r=(0,l.up)("q-input"),d=(0,l.up)("q-btn"),c=(0,l.up)("q-date"),u=(0,l.up)("q-popup-proxy"),p=(0,l.up)("q-icon"),g=(0,l.up)("q-card-actions"),h=(0,l.up)("q-card"),m=(0,l.up)("q-dialog"),f=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(m,{modelValue:e.visible,"onUpdate:modelValue":t[3]||(t[3]=t=>e.visible=t),onHide:o.hide,position:"bottom"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"card-bottom"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[Z])),_:1}),(0,l.Wm)(s,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:e.filter.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter.name=t),label:"Name"},null,8,["modelValue"]),(0,l.Wm)(r,{modelValue:e.filter.date,"onUpdate:modelValue":t[2]||(t[2]=t=>e.filter.date=t),mask:"date",label:"Date"},{append:(0,l.w5)((()=>[(0,l.Wm)(p,{name:"event",class:"cursor-pointer"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{modelValue:e.filter.date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filter.date=t)},{default:(0,l.w5)((()=>[(0,l._)("div",q,[(0,l.wy)((0,l.Wm)(d,{label:"Close",color:"primary",flat:""},null,512),[[f]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(g,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{flat:"",icon:"backspace",label:"Clear Filter",color:"primary",onClick:o.clearFilter},null,8,["onClick"]),(0,l.Wm)(d,{unelevated:"",icon:"filter_alt",label:"Filter",color:"primary",onClick:o.onFilter},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])])}const D={name:null,date:null},W={props:{show:{type:Boolean,required:!0}},data:function(){return{visible:this.show,filter:{...D}}},watch:{show:function(e){this.visible=e,e||this.hide()}},methods:{clearFilter:function(){this.filter={...D},this.$emit("filter",this.filter),this.hide()},onFilter:function(){this.$emit("filter",this.filter),this.hide()},hide:function(){this.visible=!1,this.$emit("hide")}}};var x=a(1639),C=a(2074),Q=a(4458),F=a(3190),V=a(1852),$=a(2857),P=a(2765),E=a(7088),U=a(4455),L=a(1821),T=a(2146),R=a(9984),j=a.n(R);const I=(0,x.Z)(W,[["render",k]]),H=I;j()(W,"components",{QDialog:C.Z,QCard:Q.Z,QCardSection:F.Z,QInput:V.Z,QIcon:$.Z,QPopupProxy:P.Z,QDate:E.Z,QBtn:U.Z,QCardActions:L.Z}),j()(W,"directives",{ClosePopup:T.Z});var M=a(5457);const S={components:{EventFilter:H},data:function(){return{loading:!0,data:[],tab:"upcoming",has_filter:!1,schedules:[],pagination:{page:1,total_page:1},filter:{dialog:!1,data:{name:null,date:null}}}},mounted:function(){(0,M.Z)({title:"Event"}),this.getEvents()},methods:{onFilter:async function(e){this.filter.data={...e},null!==this.filter.data.date&&(this.tab="all"),await this.getEvents(1),this.hideFilterDialog()},hideFilterDialog:function(){this.filter.dialog=!1},showFilterDialog:function(){this.filter.dialog=!0},loadMore:async function(e,t){const a=this.pagination.page;a<this.pagination.total_page&&(this.pagination.page=parseInt(a)+1,await this.getEvents()),t()},refresh:async function(e){await this.getEvents(1),e()},openPage:function(e){window.open(e)},parseDate:function(e){const t=y()(e);return t.isValid()?t.format("ddd, DD MMM YYYY"):"-"},getEvents:function(e=null){return null!==e&&(this.pagination.page=e),b.Z.loading(this),new Promise((e=>{const t=this.pagination.page;let a="event/list";a=b.Z.generateURLParams(a,"page",t),a=b.Z.generateURLParams(a,"type",this.tab),this.has_filter=!1,Object.entries(this.filter.data).forEach((([e,t])=>{null!==t&&(this.has_filter=!0,a=b.Z.generateURLParams(a,e,t))})),this.$api.get(a).then((t=>{const{data:a,message:l,status:i}=t.data;i?(this.data=[...a.list],b.Z.loading(this,!1),e()):reject()}))}))}}};var Y=a(990),z=a(7817),B=a(7661),N=a(699),A=a(6870),J=a(335);const K=(0,x.Z)(S,[["render",v],["__scopeId","data-v-4e21f79a"]]),O=K;j()(S,"components",{QBtn:U.Z,QBadge:Y.Z,QTabs:z.Z,QTab:B.Z,QPullToRefresh:N.Z,QInfiniteScroll:A.Z,QCard:Q.Z,QCardSection:F.Z,QImg:J.Z})}}]);