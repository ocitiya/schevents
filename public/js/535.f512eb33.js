"use strict";(globalThis["webpackChunkhome_app"]=globalThis["webpackChunkhome_app"]||[]).push([[535],{7682:(e,t,l)=>{l.d(t,{Z:()=>s});l(6727);var a=l(3701),i=l(9302);const{getScrollTarget:n,setVerticalScrollPosition:o}=a.ZP;(0,i.Z)();class s{static generateURLParams(e,t,l){return e.includes("?")?e+=`&${t}=${l}`:e+=`?${t}=${l}`,e}static scrollToElement(e,t=null){const l=n(e),a=null===t?e.offsetTop:t,i=500;o(l,a,i)}static loading(e,t=!0,l=null){t?e.$q.loading.show({message:null===l?"Loading ...":l}):e.$q.loading.hide()}}},5535:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ie});var a=l(9835),i=l(6970);const n=e=>((0,a.dD)("data-v-6de28766"),e=e(),(0,a.Cn)(),e),o={class:"page bg-accent",style:{"min-height":"inherit"}},s=n((()=>(0,a._)("div",{class:"text-center text-h5 text-white text-bold bg-secondary q-py-xl"}," Events ",-1))),r={class:""},d={class:"text-right bg-secondary q-pr-md q-pt-lg"},c={key:0,class:"flex flex-center q-py-xl",style:{gap:"40px"}},u={class:"card-event-container"},p={class:"top"},m={class:"center"},h={key:0},g={key:1},f=["src"],w=n((()=>(0,a._)("div",{class:"bottom text-caption",style:{bottom:"2%","font-size":"0.6em","letter-spacing":"2px"}}," WWW.SCHSPORTS.COM ",-1))),v={class:"flex items-center justify-between"},_={key:0},b={class:"text-body1 q-mt-sm"},y=n((()=>(0,a._)("hr",null,null,-1))),k=["innerHTML"],q={key:1,class:"text-center q-mt-xl text-body1"};function Z(e,t,l,n,Z,x){const D=(0,a.up)("q-badge"),W=(0,a.up)("q-btn"),$=(0,a.up)("q-tab"),C=(0,a.up)("q-tabs"),Q=(0,a.up)("q-img"),F=(0,a.up)("q-card-section"),V=(0,a.up)("q-icon"),P=(0,a.up)("q-card"),T=(0,a.up)("q-infinite-scroll"),M=(0,a.up)("q-pull-to-refresh"),U=(0,a.up)("event-filter"),E=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",null,[s,(0,a._)("div",r,[(0,a._)("div",d,[(0,a.Wm)(W,{label:"filter",icon:"filter_alt",unelevated:"",color:"primary",onClick:x.showFilterDialog},{default:(0,a.w5)((()=>[e.has_filter?((0,a.wg)(),(0,a.j4)(D,{key:0,floating:"",color:"white",rounded:""})):(0,a.kq)("",!0)])),_:1},8,["onClick"])]),(0,a.Wm)(C,{modelValue:e.tab,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.tab=t),t[1]||(t[1]=()=>x.getEvents(1))],"inline-label":"",ref:"tab",class:"bg-secondary text-primary","active-class":"text-white"},{default:(0,a.w5)((()=>[(0,a.Wm)($,{name:"upcoming",label:"Upcoming"}),(0,a.Wm)($,{name:"live",label:"Live"})])),_:1},8,["modelValue"]),(0,a.Wm)(M,{onRefresh:x.refresh,style:{"min-height":"200px"}},{default:(0,a.w5)((()=>[e.data.length>0?((0,a.wg)(),(0,a.iD)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t.id},[(0,a.Wm)(T,{onLoad:x.loadMore},{default:(0,a.w5)((()=>[(0,a._)("div",u,[(0,a.wy)(((0,a.wg)(),(0,a.j4)(P,{class:"event-card",clickable:"",onClick:()=>x.openPage(t.id)},{default:(0,a.w5)((()=>[(0,a.Wm)(F,{class:"event-logo",style:(0,i.j5)({backgroundImage:`linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url('${t.image_link}')`,color:"white",textShadow:"-1px 0 black, 0 1px black, 1px 0 black, 0 -1px black"})},{default:(0,a.w5)((()=>[(0,a._)("div",p,(0,i.zw)(t.name),1),(0,a._)("div",m,[t.start_time?((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("small",null,(0,i.zw)(t.start_time),1)])):(0,a.kq)("",!0),null!=e.logo?((0,a.wg)(),(0,a.iD)("div",g,[(0,a.Wm)(Q,{class:"logo",src:`${e.$host}/storage/app/image/${e.logo}`,ratio:1,width:"35px"},{error:(0,a.w5)((()=>[(0,a._)("img",{src:`${e.$host}/images/no-logo-1.png`,style:{width:"100%",height:"100%"}},null,8,f)])),_:1},8,["src"])])):(0,a.kq)("",!0),(0,a._)("div",null,[(0,a._)("small",null,(0,i.zw)(x.scheduleDate(t.start_date)),1)])]),w])),_:2},1032,["style"]),(0,a.Wm)(F,null,{default:(0,a.w5)((()=>[(0,a._)("div",v,[(0,a._)("div",null,[(0,a._)("small",null,[(0,a.Wm)(V,{name:"calendar_month"}),(0,a.Uk)(" "+(0,i.zw)(x.scheduleDate(t.start_date)),1)])]),null!==t.start_time?((0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("small",null,[(0,a.Uk)((0,i.zw)(t.start_time)+" ",1),(0,a.Wm)(V,{name:"schedule"})])])):(0,a.kq)("",!0)]),(0,a._)("div",b,[(0,a._)("b",null,(0,i.zw)(t.name),1)]),y,(0,a._)("div",{class:"text-description",innerHTML:t.description},null,8,k)])),_:2},1024)])),_:2},1032,["onClick"])),[[E]])])])),_:2},1032,["onLoad"])])))),128))])):((0,a.wg)(),(0,a.iD)("div",q," No Data "))])),_:1},8,["onRefresh"]),(0,a.Wm)(U,{show:e.filter.dialog,onHide:x.hideFilterDialog,onFilter:x.onFilter},null,8,["show","onHide","onFilter"])])])])}l(702);var x=l(7682),D=(l(9829),l(3878)),W=l.n(D);const $=(0,a._)("div",{class:"text-h6 text-primary"},"Filter",-1),C={class:"row items-center justify-end"};function Q(e,t,l,i,n,o){const s=(0,a.up)("q-card-section"),r=(0,a.up)("q-input"),d=(0,a.up)("q-btn"),c=(0,a.up)("q-date"),u=(0,a.up)("q-popup-proxy"),p=(0,a.up)("q-icon"),m=(0,a.up)("q-card-actions"),h=(0,a.up)("q-card"),g=(0,a.up)("q-dialog"),f=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(g,{modelValue:e.visible,"onUpdate:modelValue":t[3]||(t[3]=t=>e.visible=t),onHide:o.hide,position:"bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{class:"card-bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[$])),_:1}),(0,a.Wm)(s,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{modelValue:e.filter.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter.name=t),label:"Name"},null,8,["modelValue"]),(0,a.Wm)(r,{modelValue:e.filter.date,"onUpdate:modelValue":t[2]||(t[2]=t=>e.filter.date=t),mask:"date",label:"Date"},{append:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"event",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:e.filter.date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filter.date=t)},{default:(0,a.w5)((()=>[(0,a._)("div",C,[(0,a.wy)((0,a.Wm)(d,{label:"Close",color:"primary",flat:""},null,512),[[f]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(m,{align:"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{flat:"",icon:"backspace",label:"Clear Filter",color:"primary",onClick:o.clearFilter},null,8,["onClick"]),(0,a.Wm)(d,{unelevated:"",icon:"filter_alt",label:"Filter",color:"primary",onClick:o.onFilter},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])])}const F={name:null,date:null},V={props:{show:{type:Boolean,required:!0}},data:function(){return{visible:this.show,filter:{...F}}},watch:{show:function(e){this.visible=e,e||this.hide()}},methods:{clearFilter:function(){this.filter={...F},this.$emit("filter",this.filter),this.hide()},onFilter:function(){this.$emit("filter",this.filter),this.hide()},hide:function(){this.visible=!1,this.$emit("hide")}}};var P=l(1639),T=l(2074),M=l(4458),U=l(3190),E=l(1852),z=l(2857),L=l(2765),R=l(7088),S=l(4455),H=l(1821),I=l(2146),j=l(9984),Y=l.n(j);const A=(0,P.Z)(V,[["render",Q]]),B=A;Y()(V,"components",{QDialog:T.Z,QCard:M.Z,QCardSection:U.Z,QInput:E.Z,QIcon:z.Z,QPopupProxy:L.Z,QDate:R.Z,QBtn:S.Z,QCardActions:H.Z}),Y()(V,"directives",{ClosePopup:I.Z});var O=l(5457);const N={components:{EventFilter:B},data:function(){return{logo:null,loading:!0,data:[],tab:"upcoming",has_filter:!1,schedules:[],pagination:{page:1,total_page:1},filter:{dialog:!1,data:{name:null,date:null}}}},mounted:function(){(0,O.Z)({title:"Event"}),this.getAppData(),this.getEvents()},methods:{getAppData(){this.$api.get("app/detail").then((e=>{const{data:t,message:l,status:a}=e.data;this.logo=t.logo,console.log(this.logo)}))},scheduleDate:function(e){const t=W().utc(e).local().format("D MMMM Y");return t},scheduleTime:function(e){const t=W().utc(e).local().format("hh:mm"),l=W().tz.guess(),a=W().tz(l).zoneAbbr();return`${t} ${a}`},onFilter:async function(e){this.filter.data={...e},null!==this.filter.data.date&&(this.tab="all"),await this.getEvents(1),this.hideFilterDialog()},hideFilterDialog:function(){this.filter.dialog=!1},showFilterDialog:function(){this.filter.dialog=!0},loadMore:async function(e,t){const l=this.pagination.page;l<this.pagination.total_page&&(this.pagination.page=parseInt(l)+1,await this.getEvents()),t()},refresh:async function(e){await this.getEvents(1),e()},openPage:function(e){setTimeout((()=>{window.open(`${this.$host}/event-schedule/${e}`)}),300)},parseDate:function(e){const t=W()(e);return t.isValid()?t.format("ddd, DD MMM YYYY"):"-"},getEvents:function(e=null){return null!==e&&(this.pagination.page=e),x.Z.loading(this),new Promise((e=>{const t=this.pagination.page;let l="event/list";l=x.Z.generateURLParams(l,"page",t),l=x.Z.generateURLParams(l,"type",this.tab),this.has_filter=!1,Object.entries(this.filter.data).forEach((([e,t])=>{null!==t&&(this.has_filter=!0,l=x.Z.generateURLParams(l,e,t))})),this.$api.get(l).then((t=>{const{data:l,message:a,status:i}=t.data;i?(this.data=[...l.list],x.Z.loading(this,!1),e()):reject()}))}))}}};var K=l(990),G=l(7817),J=l(7661),X=l(699),ee=l(6870),te=l(335),le=l(1136);const ae=(0,P.Z)(N,[["render",Z],["__scopeId","data-v-6de28766"]]),ie=ae;Y()(N,"components",{QBtn:S.Z,QBadge:K.Z,QTabs:G.Z,QTab:J.Z,QPullToRefresh:X.Z,QInfiniteScroll:ee.Z,QCard:M.Z,QCardSection:U.Z,QImg:te.Z,QIcon:z.Z}),Y()(N,"directives",{Ripple:le.Z})}}]);