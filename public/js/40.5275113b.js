"use strict";(globalThis["webpackChunkhome_app"]=globalThis["webpackChunkhome_app"]||[]).push([[40],{7682:(e,t,a)=>{a.d(t,{Z:()=>o});a(6727);var l=a(3701),n=a(9302);const{getScrollTarget:i,setVerticalScrollPosition:s}=l.ZP;(0,n.Z)();class o{static generateURLParams(e,t,a){return e.includes("?")?e+=`&${t}=${a}`:e+=`?${t}=${a}`,e}static scrollToElement(e,t=null){const a=i(e),l=null===t?e.offsetTop:t,n=500;s(a,l,n)}static loading(e,t=!0,a=null){t?e.$q.loading.show({message:null===a?"Loading ...":a}):e.$q.loading.hide()}}},9040:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});var l=a(9835),n=a(6970);const i=e=>((0,l.dD)("data-v-b95ad9ea"),e=e(),(0,l.Cn)(),e),s={class:"page bg-accent",style:{"min-height":"inherit"}},o=i((()=>(0,l._)("div",{class:"text-center text-h5 text-white text-bold bg-secondary q-py-xl"}," Events ",-1))),r={class:""},d={key:0,class:"flex flex-center",style:{gap:"40px"}},c={class:"card-event-container"},g={class:"flex flex-center q-my-lg"},u=["src"],h={key:0,class:""},p={key:1,class:""},f={class:""},m={key:1,class:"text-center q-mt-xl text-body1"};function v(e,t,a,i,v,w){const b=(0,l.up)("q-tab"),_=(0,l.up)("q-tabs"),y=(0,l.up)("q-img"),D=(0,l.up)("q-btn"),Z=(0,l.up)("q-card-section"),x=(0,l.up)("q-card"),k=(0,l.up)("q-infinite-scroll"),q=(0,l.up)("q-pull-to-refresh");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",null,[o,(0,l._)("div",r,[(0,l.Wm)(_,{modelValue:e.tab,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.tab=t),t[1]||(t[1]=()=>w.getEvents(1))],"inline-label":"",ref:"tab",class:"bg-secondary text-primary","active-class":"text-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{name:"upcoming",label:"Upcoming"}),(0,l.Wm)(b,{name:"live",label:"Live"})])),_:1},8,["modelValue"]),(0,l.Wm)(q,{onRefresh:w.refresh},{default:(0,l.w5)((()=>[e.data.length>0?((0,l.wg)(),(0,l.iD)("div",d,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.data,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id,class:"q-my-xl"},[(0,l.Wm)(k,{onLoad:w.loadMore},{default:(0,l.w5)((()=>[(0,l._)("div",c,[(0,l.Wm)(x,{class:"event-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,null,{default:(0,l.w5)((()=>[(0,l._)("div",g,[null!==t.image?((0,l.wg)(),(0,l.j4)(y,{key:0,class:"logo",src:`${e.$host}/storage/event/image/${t.image}`,ratio:1},{error:(0,l.w5)((()=>[(0,l._)("img",{src:`${e.$host}/images/no-logo-1.png`,style:{width:"100%",height:"100%"}},null,8,u)])),_:2},1032,["src"])):((0,l.wg)(),(0,l.j4)(y,{key:1,class:"logo",src:`${e.$host}/images/no-logo-1.png`,ratio:1},null,8,["src"]))]),null!==t.end_date?((0,l.wg)(),(0,l.iD)("div",h,(0,n.zw)(w.parseDate(t.start_date))+" - "+(0,n.zw)(w.parseDate(t.end_date)),1)):((0,l.wg)(),(0,l.iD)("div",p,(0,n.zw)(w.parseDate(t.start_date)),1)),(0,l._)("div",f,(0,n.zw)(t.name),1),(0,l.Wm)(Z,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{unelevated:"",label:"Join",color:"black",disable:null===t.offer,onClick:e=>w.openPage(t.offer.short_link)},null,8,["disable","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])])),_:2},1032,["onLoad"])])))),128))])):((0,l.wg)(),(0,l.iD)("div",m," No Data "))])),_:1},8,["onRefresh"])])])])}a(702);var w=a(7682),b=(a(9829),a(3878)),_=a.n(b),y=a(5457);const D={data:function(){return{loading:!0,data:[],tab:"upcoming",has_filter:!1,schedules:[],pagination:{page:1,total_page:1},filter:{dialog:!1,data:{name:null,start_date:null}}}},mounted:function(){(0,y.Z)({title:"Event"}),this.getEvents()},methods:{loadMore:async function(e,t){const a=this.pagination.page;a<this.pagination.total_page&&(this.pagination.page=parseInt(a)+1,await this.getEvents()),t()},refresh:async function(e){await this.getEvents(1),e()},openPage:function(e){window.open(e)},parseDate:function(e){const t=_()(e);return t.isValid()?t.format("ddd, DD MMM YYYY"):"-"},onFilter:async function(e){this.filter.data={...e},null!==this.filter.data.date&&(this.tab=null),await this.getSchedule(1),this.hideFilterDialog()},hideFilterDialog:function(){this.filter.dialog=!1},showFilterDialog:function(){this.filter.dialog=!0},getEvents:function(e=null){return null!==e&&(this.pagination.page=e),w.Z.loading(this),new Promise((e=>{const t=this.pagination.page;let a="event/list";a=w.Z.generateURLParams(a,"page",t),a=w.Z.generateURLParams(a,"type",this.tab),this.has_filter=!1,Object.entries(this.filter.data).forEach((([e,t])=>{null!==t&&(this.has_filter=!0,a=w.Z.generateURLParams(a,e,t))})),this.$api.get(a).then((t=>{const{data:a,message:l,status:n}=t.data;n?(this.data=[...a.list],w.Z.loading(this,!1),e()):reject()}))}))}}};var Z=a(1639),x=a(7817),k=a(7661),q=a(699),$=a(6870),P=a(4458),E=a(3190),W=a(335),L=a(4455),Q=a(9984),T=a.n(Q);const C=(0,Z.Z)(D,[["render",v],["__scopeId","data-v-b95ad9ea"]]),R=C;T()(D,"components",{QTabs:x.Z,QTab:k.Z,QPullToRefresh:q.Z,QInfiniteScroll:$.Z,QCard:P.Z,QCardSection:E.Z,QImg:W.Z,QBtn:L.Z})}}]);