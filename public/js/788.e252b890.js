"use strict";(globalThis["webpackChunkhome_app"]=globalThis["webpackChunkhome_app"]||[]).push([[788],{7682:(e,t,l)=>{l.d(t,{Z:()=>n});l(6727);var o=l(3701),i=l(9302);const{getScrollTarget:a,setVerticalScrollPosition:s}=o.ZP;(0,i.Z)();class n{static generateURLParams(e,t,l){return e.includes("?")?e+=`&${t}=${l}`:e+=`?${t}=${l}`,e}static scrollToElement(e,t=null){const l=a(e),o=null===t?e.offsetTop:t,i=500;s(l,o,i)}static loading(e,t=!0,l=null){t?e.$q.loading.show({message:null===l?"Loading ...":l}):e.$q.loading.hide()}}},9788:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Te});var o=l(9835),i=l(6970);const a=e=>((0,o.dD)("data-v-7120b4de"),e=e(),(0,o.Cn)(),e),s={key:0},n=a((()=>(0,o._)("div",{class:"text-white page-title flex flex-center title-container"},[(0,o._)("div",{class:"text-h4"}," schevents.com ")],-1))),r=[n],d={key:1,class:"bg-secondary q-pt-md"},c={class:"text-right bg-secondary q-pr-md"},u={class:"q-pt-xl page bg-accent"},h={key:0},m={class:"card-schedule-container"},p={class:"text-primary"},g={key:0},f={key:1,class:"capitalize"},w={key:2},_={key:3},b={class:"text-primary text-bold"},y={key:0},v={key:1},q={class:"vs-section q-mb-md"},x={key:0,class:"text-center q-mr-md"},k=["src"],Z={class:"text-primary q-mt-md"},$={class:"text-bold"},S={key:0},W={key:0,class:"text-bold"},D={key:1,class:"q-ml-md flex flex-center"},F=a((()=>(0,o._)("div",{class:"text-red text-bold"},"Unknown School",-1))),Q=[F],C=a((()=>(0,o._)("div",{class:"text-body1 text-grey-7 flex flex-center"}," VS ",-1))),V={key:2,class:"text-center q-ml-md"},U=["src"],z={class:"text-primary q-mt-md"},L={class:"text-bold"},P={key:0},I={key:0,class:"text-bold"},j={key:3,class:"q-ml-md flex flex-center"},T=a((()=>(0,o._)("div",{class:"text-red text-bold"},"Unknown School",-1))),R=[T],O={key:0},H={class:"flex items-center text-primary q-mt-md"},M={class:"flex flex-center"},B={class:"q-ml-sm"},E={class:"flex flex-center"},N={class:"q-ml-sm"},J={class:"flex flex-center q-py-md"},Y={key:1,class:"text-primary text-h6 text-bold flex flex-center q-my-lg"};function A(e,t,l,a,n,F){const T=(0,o.up)("q-img"),A=(0,o.up)("q-carousel-slide"),K=(0,o.up)("q-carousel"),G=(0,o.up)("q-badge"),X=(0,o.up)("q-btn"),ee=(0,o.up)("q-tab"),te=(0,o.up)("q-tabs"),le=(0,o.up)("q-card-section"),oe=(0,o.up)("q-separator"),ie=(0,o.up)("q-icon"),ae=(0,o.up)("q-card"),se=(0,o.up)("q-spinner-dots"),ne=(0,o.up)("q-infinite-scroll"),re=(0,o.up)("q-inner-loading"),de=(0,o.up)("q-pull-to-refresh"),ce=(0,o.up)("match-filter"),ue=(0,o.up)("q-page"),he=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.j4)(ue,null,{default:(0,o.w5)((()=>[0===Object.keys(e.banners).length?((0,o.wg)(),(0,o.iD)("div",s,r)):((0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(K,{modelValue:e.slide,"onUpdate:modelValue":t[0]||(t[0]=t=>e.slide=t),swipeable:"",animated:"",arrows:"","transition-prev":"jump-right","transition-next":"jump-left","control-color":"white",padding:"",infinite:"",autoplay:"",height:"300px",class:"text-white bg-secondary animate__animated animate__fadeIn"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.banners,((t,l)=>((0,o.wg)(),(0,o.j4)(A,{key:t.id,name:l},{default:(0,o.w5)((()=>[(0,o.Wm)(T,{src:`${e.$host}/storage/banner/image/${t.image}`,height:"100%",width:"100%",fit:"contain"},null,8,["src"])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])),(0,o._)("div",c,[(0,o.Wm)(X,{label:"filter",icon:"filter_alt",unelevated:"",color:"primary",onClick:e.showFilterDialog},{default:(0,o.w5)((()=>[e.has_filter?((0,o.wg)(),(0,o.j4)(G,{key:0,floating:"",color:"white",rounded:""})):(0,o.kq)("",!0)])),_:1},8,["onClick"])]),(0,o.Wm)(te,{modelValue:e.tab,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.tab=t),t[2]||(t[2]=()=>e.getSchedule(1))],"inline-label":"",ref:"tab",class:"bg-secondary text-primary","active-class":"text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(ee,{name:"live",label:"Live"}),(0,o.Wm)(ee,{name:"upcoming",label:"Upcoming"}),(0,o.Wm)(ee,{name:"this-week",label:"This Week"}),(0,o.Wm)(ee,{name:"today",label:"Today"}),(0,o.Wm)(ee,{name:"tomorrow",label:"Tomorrow"})])),_:1},8,["modelValue"]),(0,o.Wm)(de,{onRefresh:e.refresh},{default:(0,o.w5)((()=>[(0,o._)("div",u,[e.schedules.length>0?((0,o.wg)(),(0,o.iD)("div",h,[(0,o.Wm)(ne,{onLoad:e.loadMore},{loading:(0,o.w5)((()=>[(0,o._)("div",J,[(0,o.Wm)(se,{color:"accent",size:"40px"})])])),default:(0,o.w5)((()=>[(0,o._)("div",m,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.schedules,(t=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(ae,{key:t.id,class:"event-card",onClick:()=>e.redirect(t.id)},{default:(0,o.w5)((()=>[(0,o.Wm)(le,{class:"flex justify-between items-center"},{default:(0,o.w5)((()=>[(0,o._)("div",p,[null!==t.team_type?((0,o.wg)(),(0,o.iD)("span",g,(0,i.zw)(t.team_type.name)+" ",1)):(0,o.kq)("",!0),null!==t.team_gender?((0,o.wg)(),(0,o.iD)("span",f,(0,i.zw)(t.team_gender)+" ",1)):(0,o.kq)("",!0),null!==t.sport?((0,o.wg)(),(0,o.iD)("span",w,(0,i.zw)(t.sport.name),1)):null!==t.sport_type?((0,o.wg)(),(0,o.iD)("span",_,(0,i.zw)(t.sport_type.name),1)):(0,o.kq)("",!0)]),(0,o._)("div",b,[null!==t.championship?((0,o.wg)(),(0,o.iD)("span",y,(0,i.zw)(t.championship.abbreviation),1)):null!==t.federation?((0,o.wg)(),(0,o.iD)("span",v,(0,i.zw)(t.federation.abbreviation),1)):(0,o.kq)("",!0)])])),_:2},1024),(0,o.Wm)(oe),(0,o.Wm)(le,{class:"q-py-lg"},{default:(0,o.w5)((()=>[(0,o._)("div",q,[null!==t.school1?((0,o.wg)(),(0,o.iD)("div",x,[null!==t.school1.logo?((0,o.wg)(),(0,o.j4)(T,{key:0,class:"logo",src:`${e.$host}/storage/school/logo/${t.school1.logo}`,ratio:1},{error:(0,o.w5)((()=>[(0,o._)("img",{src:`${e.$host}/images/no-logo-1.png`,style:{width:"100%",height:"100%"}},null,8,k)])),_:2},1032,["src"])):((0,o.wg)(),(0,o.j4)(T,{key:1,class:"logo",src:`${e.$host}/images/no-logo-1.png`,ratio:1},null,8,["src"])),(0,o._)("div",Z,[(0,o._)("div",$,(0,i.zw)(t.school1.name),1),null!==t.school1.municipality?((0,o.wg)(),(0,o.iD)("div",S,[(0,o.Uk)((0,i.zw)(t.school1.municipality.name)+",  ",1),null!==t.school1.county?((0,o.wg)(),(0,o.iD)("span",W,(0,i.zw)(t.school1.county.abbreviation),1)):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])])):((0,o.wg)(),(0,o.iD)("div",D,Q)),C,null!==t.school2?((0,o.wg)(),(0,o.iD)("div",V,[null!==t.school2.logo?((0,o.wg)(),(0,o.j4)(T,{key:0,class:"logo",src:`${e.$host}/storage/school/logo/${t.school2.logo}`,ratio:1},{error:(0,o.w5)((()=>[(0,o._)("img",{src:`${e.$host}/images/no-logo-1.png`,style:{width:"100%",height:"100%"}},null,8,U)])),_:2},1032,["src"])):((0,o.wg)(),(0,o.j4)(T,{key:1,class:"logo",src:`${e.$host}/images/no-logo-1.png`,ratio:1},null,8,["src"])),(0,o._)("div",z,[(0,o._)("div",L,(0,i.zw)(t.school2.name),1),null!==t.school2.municipality?((0,o.wg)(),(0,o.iD)("div",P,[(0,o.Uk)((0,i.zw)(t.school2.municipality.name)+",  ",1),null!==t.school2.county?((0,o.wg)(),(0,o.iD)("span",I,(0,i.zw)(t.school2.county.abbreviation),1)):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])])):((0,o.wg)(),(0,o.iD)("div",j,R))]),null!==t.stadium_id?((0,o.wg)(),(0,o.iD)("div",O,[(0,o.Wm)(oe),(0,o._)("div",H,[(0,o.Wm)(ie,{name:"pin_drop"}),(0,o.Uk)("  "+(0,i.zw)(t.stadium.name),1)])])):(0,o.kq)("",!0)])),_:2},1024),(0,o.Wm)(oe),(0,o.Wm)(le,{class:"flex items-center justify-between q-px-md bg-secondary text-accent text-bold"},{default:(0,o.w5)((()=>[(0,o._)("div",M,[(0,o.Wm)(ie,{name:"calendar_month"}),(0,o._)("span",B,(0,i.zw)(e.scheduleDate(t.datetime)),1)]),(0,o._)("div",E,[(0,o.Wm)(ie,{name:"schedule"}),(0,o._)("span",N,(0,i.zw)(e.scheduleTime(t.datetime)),1)])])),_:2},1024)])),_:2},1032,["onClick"])),[[he]]))),128))])])),_:1},8,["onLoad"])])):((0,o.wg)(),(0,o.iD)("div",Y," No Upcoming Events ")),(0,o.Wm)(re,{showing:e.loadingSchedule,label:"Please wait...","label-class":"text-primary","label-style":"font-size: 1.1em"},null,8,["showing"])])])),_:1},8,["onRefresh"]),(0,o.Wm)(ce,{show:e.filter.dialog,onHide:e.hideFilterDialog,onFilter:e.onFilter},null,8,["show","onHide","onFilter"])])),_:1})}l(702),l(4110),l(9829);var K=l(3878),G=l.n(K),X=l(5457);const ee=(0,o._)("div",{class:"text-h6 text-primary"},"Filter",-1),te={class:"row items-center justify-end"};function le(e,t,l,a,s,n){const r=(0,o.up)("q-card-section"),d=(0,o.up)("q-btn"),c=(0,o.up)("q-date"),u=(0,o.up)("q-popup-proxy"),h=(0,o.up)("q-icon"),m=(0,o.up)("q-input"),p=(0,o.up)("q-select"),g=(0,o.up)("q-img"),f=(0,o.up)("q-item-section"),w=(0,o.up)("q-item-label"),_=(0,o.up)("q-item"),b=(0,o.up)("q-card-actions"),y=(0,o.up)("q-card"),v=(0,o.up)("q-dialog"),q=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(v,{modelValue:e.visible,"onUpdate:modelValue":t[5]||(t[5]=t=>e.visible=t),onHide:n.hide,position:"bottom"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:"card-bottom"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[ee])),_:1}),(0,o.Wm)(r,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:e.filter.date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filter.date=t),mask:"date",readonly:"",label:"Date"},{append:(0,o.w5)((()=>[(0,o.Wm)(h,{name:"event",class:"cursor-pointer"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{modelValue:e.filter.date,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter.date=t)},{default:(0,o.w5)((()=>[(0,o._)("div",te,[(0,o.wy)((0,o.Wm)(d,{label:"Close",color:"primary",flat:""},null,512),[[q]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(p,{"use-input":"","map-options":"","emit-value":"",label:"Federation","input-debounce":"0",modelValue:e.filter.federation_id,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.filter.federation_id=t),n.onFederationChange],options:e.options.federations,onFilter:n.filterFederation},null,8,["modelValue","options","onFilter","onUpdate:modelValue"]),(0,o.Wm)(p,{"use-input":"","map-options":"","emit-value":"",label:"Sport","input-debounce":"0",modelValue:e.filter.sport_id,"onUpdate:modelValue":t[3]||(t[3]=t=>e.filter.sport_id=t),options:e.options.sports,onFilter:n.filterSport},null,8,["modelValue","options","onFilter"]),(0,o.Wm)(p,{"use-input":"","map-options":"","emit-value":"",label:"School","input-debounce":"0",modelValue:e.filter.school_id,"onUpdate:modelValue":t[4]||(t[4]=t=>e.filter.school_id=t),options:e.options.schools,onFilter:n.filterSchool},{option:(0,o.w5)((e=>[(0,o.Wm)(_,(0,i.vs)((0,o.F4)(e.itemProps)),{default:(0,o.w5)((()=>[(0,o.Wm)(f,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{src:e.opt.icon},null,8,["src"])])),_:2},1024),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","onFilter"])])),_:1}),(0,o.Wm)(b,{align:"right"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{flat:"",icon:"backspace",label:"Clear Filter",color:"primary",onClick:n.clearFilter},null,8,["onClick"]),(0,o.Wm)(d,{unelevated:"",icon:"filter_alt",label:"Filter",color:"primary",onClick:n.onFilter},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])])}var oe=l(7682);const ie={school_id:null,federation_id:null,sport_id:null,date:null},ae={props:{show:{type:Boolean,required:!0}},data:function(){return{visible:this.show,filter:{...ie},options:{schools:[],federations:[],sports:[]},master:{schools:[],federations:[],sports:[]}}},watch:{show:function(e){this.visible=e,e||this.hide()}},mounted:function(){this.getSchools(),this.getFederations(),this.getSports()},methods:{onFederationChange:function(e){this.filter.school_id=null,this.filter.sport_id=null,this.getSchools(e),this.getSports(e)},clearFilter:function(){this.filter={...ie},this.$emit("filter",this.filter),this.hide()},filterSchool:function(e,t){t((()=>{const t=e.toLowerCase();this.options.schools=this.master.schools.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}))},filterFederation:function(e,t){t((()=>{const t=e.toLowerCase();this.options.federations=this.master.federations.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}))},filterSport:function(e,t){t((()=>{const t=e.toLowerCase();this.options.sports=this.master.sports.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}))},getSchools:function(e=null){oe.Z.loading(this),this.options.schools=[],this.master.schools=[],window.localStorage.removeItem("masterdata_schools");let t="school/list";t=oe.Z.generateURLParams(t,"showall",!0),null!==e&&(t=oe.Z.generateURLParams(t,"federation_id",e)),this.$api.get(t).then((e=>{const{data:t,message:l,status:o}=e.data;if(o){const e=[];t.list.map((t=>{e.push({label:t.name,value:t.id,icon:`${this.$host}/storage/school/logo/${t.logo}`})})),this.options.schools=[...e],this.master.schools=[...e],window.localStorage.setItem("masterdata_schools",JSON.stringify(e))}})).finally((()=>{this.filter.school_id="undefined"!==typeof this.$route.query.school_id?this.$route.query.school_id:null,oe.Z.loading(this,!1)}))},getSports:function(e=null){this.options.sports=[],this.master.sports=[],window.localStorage.removeItem("masterdata_sports"),oe.Z.loading(this);let t="sport-type/list";t=oe.Z.generateURLParams(t,"showall",!0),null!==e&&(t=oe.Z.generateURLParams(t,"federation_id",e)),this.$api.get(t).then((e=>{const{data:t,message:l,status:o}=e.data;if(o){const e=[];t.list.map((t=>{null!==t.sport?e.push({label:`${t.federation.abbreviation} - ${t.sport.name}`,value:t.id}):e.push({label:`${t.federation.abbreviation} - ${t.name}`,value:t.id})})),this.options.sports=[...e],this.master.sports=[...e],window.localStorage.setItem("masterdata_sports",JSON.stringify(e))}})).finally((()=>{oe.Z.loading(this,!1)}))},getFederations:function(){this.options.federations=[],this.master.federations=[],window.localStorage.removeItem("masterdata_federations"),oe.Z.loading(this);let e="federation/list";e=oe.Z.generateURLParams(e,"showall",!0),this.$api.get(e).then((e=>{const{data:t,message:l,status:o}=e.data;if(o){const e=[];t.list.map((t=>{e.push({label:t.abbreviation,value:t.id})})),this.options.federations=[...e],this.master.federations=[...e],window.localStorage.setItem("masterdata_federations",JSON.stringify(e))}})).finally((()=>{oe.Z.loading(this,!1)}))},onFilter:function(){this.$emit("filter",this.filter),this.hide()},hide:function(){this.visible=!1,this.$emit("hide")}}};var se=l(1639),ne=l(2074),re=l(4458),de=l(3190),ce=l(1852),ue=l(2857),he=l(2765),me=l(7088),pe=l(4455),ge=l(8379),fe=l(490),we=l(1233),_e=l(335),be=l(3115),ye=l(1821),ve=l(2146),qe=l(9984),xe=l.n(qe);const ke=(0,se.Z)(ae,[["render",le]]),Ze=ke;xe()(ae,"components",{QDialog:ne.Z,QCard:re.Z,QCardSection:de.Z,QInput:ce.Z,QIcon:ue.Z,QPopupProxy:he.Z,QDate:me.Z,QBtn:pe.Z,QSelect:ge.Z,QItem:fe.Z,QItemSection:we.Z,QImg:_e.Z,QItemLabel:be.Z,QCardActions:ye.Z}),xe()(ae,"directives",{ClosePopup:ve.Z});const $e=(0,o.aZ)({name:"IndexPage",components:{MatchFilter:Ze},data:function(){return{slide:0,banners:[],filter:{dialog:!1,data:{school_id:"undefined"!==typeof this.$route.query.school_id?this.$route.query.school_id:null,federation_id:null,sport_id:null,date:null}},loadingSchedule:!0,tab:"upcoming",has_filter:!1,schedules:[],pagination:{page:1,total_page:1}}},mounted:function(){this.getBanners();const e=this.$route.query.tab;"undefined"!==typeof e&&(this.tab=e,oe.Z.scrollToElement(this.$refs.tab.$el)),null!==this.filter.data.school_id?(this.filter.data.school_id=this.filter.data.school_id,this.onFilter(this.filter.data)):this.getSchedule(),(0,X.Z)({title:"Home"})},methods:{getBanners:function(){return new Promise(((e,t)=>{let l="banner/list?showall=true";this.$api.get(l).then((l=>{const{data:o,message:i,status:a}=l.data;a?(this.banners=[...o.list],e()):t()}))}))},onFilter:async function(e){this.filter.data={...e},null!==this.filter.data.date&&(this.tab=null),await this.getSchedule(1),this.hideFilterDialog()},hideFilterDialog:function(){this.filter.dialog=!1},showFilterDialog:function(){this.filter.dialog=!0},loadMore:async function(e,t){const l=this.pagination.page;l<this.pagination.total_page&&(this.pagination.page=parseInt(l)+1,await this.getSchedule()),t()},redirect:function(e){setTimeout((()=>{window.open(`${this.$host}/schedule/${e}`)}),300)},refresh:async function(e){await this.getSchedule(1),e()},scheduleDate:function(e){const t=G().utc(e).local().format("D MMMM Y");return t},scheduleTime:function(e){const t=G().utc(e).local().format("hh:mm"),l=G().tz.guess(),o=G().tz(l).zoneAbbr();return`${t} ${o}`},getSchedule:function(e=null){return null!==e&&(this.pagination.page=e),this.loadingSchedule=!0,new Promise(((e,t)=>{const l=this.pagination.page;let o="match-schedule/list";o=oe.Z.generateURLParams(o,"page",l),o=oe.Z.generateURLParams(o,"type",this.tab),this.has_filter=!1,Object.entries(this.filter.data).forEach((([e,t])=>{null!==t&&(this.has_filter=!0,o=oe.Z.generateURLParams(o,e,t))})),this.$api.get(o).then((l=>{const{data:o,message:i,status:a}=l.data;a?(1===this.pagination.page?this.schedules=[...o.list]:this.schedules=this.schedules.concat(o.list),this.pagination={...this.pagination,page:o.pagination.page,total_page:o.pagination.total_page},e()):t()})).finally((()=>{this.loadingSchedule=!1}))}))}}});var Se=l(9885),We=l(960),De=l(1694),Fe=l(990),Qe=l(7817),Ce=l(7661),Ve=l(699),Ue=l(6870),ze=l(2218),Le=l(7501),Pe=l(854),Ie=l(1136);const je=(0,se.Z)($e,[["render",A],["__scopeId","data-v-7120b4de"]]),Te=je;xe()($e,"components",{QPage:Se.Z,QCarousel:We.Z,QCarouselSlide:De.Z,QImg:_e.Z,QBtn:pe.Z,QBadge:Fe.Z,QTabs:Qe.Z,QTab:Ce.Z,QPullToRefresh:Ve.Z,QInfiniteScroll:Ue.Z,QCard:re.Z,QCardSection:de.Z,QSeparator:ze.Z,QIcon:ue.Z,QSpinnerDots:Le.Z,QInnerLoading:Pe.Z}),xe()($e,"directives",{Ripple:Ie.Z})}}]);