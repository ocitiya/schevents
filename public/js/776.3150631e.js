"use strict";(globalThis["webpackChunkhome_app"]=globalThis["webpackChunkhome_app"]||[]).push([[776],{7682:(t,e,o)=>{o.d(e,{Z:()=>n});o(6727);var l=o(3701),i=o(9302);const{getScrollTarget:a,setVerticalScrollPosition:s}=l.ZP;(0,i.Z)();class n{static generateURLParams(t,e,o){return t.includes("?")?t+=`&${e}=${o}`:t+=`?${e}=${o}`,t}static scrollToElement(t,e=null){const o=a(t),l=null===e?t.offsetTop:e,i=500;s(o,l,i)}static loading(t,e=!0,o=null){e?t.$q.loading.show({message:null===o?"Loading ...":o}):t.$q.loading.hide()}}},4776:(t,e,o)=>{o.r(e),o.d(e,{default:()=>gt});var l=o(9835),i=o(6970);const a=t=>((0,l.dD)("data-v-29b90861"),t=t(),(0,l.Cn)(),t),s={class:"text-right bg-secondary q-pr-md q-pt-lg"},n={class:"q-pt-xl page bg-accent"},r={key:0},c={class:"card-schedule-container"},d=a((()=>(0,l._)("div",{class:"center text-vs text-white"}," VS ",-1))),h={class:"left"},p=["src"],u={class:"text-bold text-white q-mt-xs"},m={class:"right"},g=["src"],f={class:"text-bold text-white q-mt-xs"},w={key:0,class:"bottom"},_=["src"],b={key:1,class:"top"},y=["src"],v={key:0,class:"capitalize"},q={key:1},Z={key:2},$={key:3},W={class:"flex flex-center q-py-md"},S={key:1,class:"text-primary text-h6 text-bold flex flex-center q-my-lg"};function k(t,e,o,a,k,x){const C=(0,l.up)("q-badge"),Q=(0,l.up)("q-btn"),D=(0,l.up)("q-tab"),F=(0,l.up)("q-tabs"),V=(0,l.up)("q-img"),L=(0,l.up)("q-card-section"),I=(0,l.up)("q-separator"),P=(0,l.up)("q-card"),U=(0,l.up)("q-spinner-dots"),z=(0,l.up)("q-infinite-scroll"),T=(0,l.up)("q-inner-loading"),R=(0,l.up)("q-pull-to-refresh"),j=(0,l.up)("match-filter"),M=(0,l.up)("q-page"),O=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(M,null,{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l.Wm)(Q,{label:"filter",icon:"filter_alt",unelevated:"",color:"primary",onClick:t.showFilterDialog},{default:(0,l.w5)((()=>[t.has_filter?((0,l.wg)(),(0,l.j4)(C,{key:0,floating:"",color:"white",rounded:""})):(0,l.kq)("",!0)])),_:1},8,["onClick"])]),(0,l.Wm)(F,{modelValue:t.tab,"onUpdate:modelValue":[e[0]||(e[0]=e=>t.tab=e),e[1]||(e[1]=()=>t.getSchedule(1))],"inline-label":"",ref:"tab",class:"bg-secondary text-primary","active-class":"text-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{name:"live",label:"Live"}),(0,l.Wm)(D,{name:"upcoming",label:"Upcoming"}),(0,l.Wm)(D,{name:"this-week",label:"This Week"}),(0,l.Wm)(D,{name:"today",label:"Today"}),(0,l.Wm)(D,{name:"tomorrow",label:"Tomorrow"})])),_:1},8,["modelValue"]),(0,l.Wm)(R,{onRefresh:t.refresh},{default:(0,l.w5)((()=>[(0,l._)("div",n,[t.schedules.length>0?((0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(z,{onLoad:t.loadMore},{loading:(0,l.w5)((()=>[(0,l._)("div",W,[(0,l.Wm)(U,{color:"accent",size:"40px"})])])),default:(0,l.w5)((()=>[(0,l._)("div",c,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.schedules,(e=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(P,{key:e.id,class:"event-card",onClick:()=>t.redirect(e.id)},{default:(0,l.w5)((()=>[(0,l.Wm)(L,{class:"q-py-lg schedule-team-logo",style:(0,i.j5)({backgroundImage:"url('"+t.$host+"/storage/link_stream/image/"+e.link_stream.image+"')"})},{default:(0,l.w5)((()=>[d,(0,l._)("div",h,[(0,l._)("div",null,[(0,l._)("div",null,[(0,l.Wm)(V,{class:"logo",src:`${t.$host}/storage/school/logo/${e.school1.logo}`,ratio:1},{error:(0,l.w5)((()=>[(0,l._)("img",{src:`${t.$host}/images/no-logo-1.png`,style:{width:"100%",height:"100%"}},null,8,p)])),_:2},1032,["src"])]),(0,l._)("div",u,(0,i.zw)(e.school1.name),1)])]),(0,l._)("div",m,[(0,l._)("div",null,[(0,l._)("div",null,[(0,l.Wm)(V,{class:"logo",src:`${t.$host}/storage/school/logo/${e.school2.logo}`,ratio:1},{error:(0,l.w5)((()=>[(0,l._)("img",{src:`${t.$host}/images/no-logo-1.png`,style:{width:"100%",height:"100%"}},null,8,g)])),_:2},1032,["src"])]),(0,l._)("div",f,(0,i.zw)(e.school2.name),1)])]),null!==t.logo?((0,l.wg)(),(0,l.iD)("div",w,[(0,l.Wm)(V,{class:"logo",src:`${t.$host}/storage/app/image/${t.logo}`,ratio:1},{error:(0,l.w5)((()=>[(0,l._)("img",{src:`${t.$host}/images/no-logo-1.png`,style:{width:"100%",height:"100%"}},null,8,_)])),_:1},8,["src"])])):(0,l.kq)("",!0),null!==e.championship?((0,l.wg)(),(0,l.iD)("div",b,[(0,l.Wm)(V,{class:"logo",src:`${t.$host}/storage/championship/image/${e.championship.image}`,ratio:1},{error:(0,l.w5)((()=>[(0,l._)("img",{src:`${t.$host}/images/no-logo-1.png`,style:{width:"100%",height:"100%"}},null,8,y)])),_:2},1032,["src"])])):(0,l.kq)("",!0)])),_:2},1032,["style"]),(0,l.Wm)(I),(0,l.Wm)(L,{class:"text-justify q-px-md bg-secondary text-accent text-bold"},{default:(0,l.w5)((()=>[(0,l._)("span",null," Watch: "+(0,i.zw)(e.school1.name)+" vs "+(0,i.zw)(e.school2.name)+" - "+(0,i.zw)(t.scheduleTime(e.datetime))+" - "+(0,i.zw)(t.scheduleDate(e.datetime))+" - ",1),null!==e.team_gender?((0,l.wg)(),(0,l.iD)("span",v,(0,i.zw)(e.team_gender)+"Â ",1)):(0,l.kq)("",!0),null!==e.sport?((0,l.wg)(),(0,l.iD)("span",q,(0,i.zw)(e.sport.name),1)):null!==e.sport_type?((0,l.wg)(),(0,l.iD)("span",Z,(0,i.zw)(e.sport_type.name),1)):(0,l.kq)("",!0),null!==e.stadium?((0,l.wg)(),(0,l.iD)("span",$," - Live from "+(0,i.zw)(e.stadium.name),1)):(0,l.kq)("",!0)])),_:2},1024)])),_:2},1032,["onClick"])),[[O]]))),128))])])),_:1},8,["onLoad"])])):((0,l.wg)(),(0,l.iD)("div",S," No Upcoming Events ")),(0,l.Wm)(T,{showing:t.loadingSchedule,label:"Please wait...","label-class":"text-primary","label-style":"font-size: 1.1em"},null,8,["showing"])])])),_:1},8,["onRefresh"]),(0,l.Wm)(j,{show:t.filter.dialog,onHide:t.hideFilterDialog,onFilter:t.onFilter},null,8,["show","onHide","onFilter"])])),_:1})}o(702),o(4110),o(9829);var x=o(3878),C=o.n(x),Q=o(5457);const D=(0,l._)("div",{class:"text-h6 text-primary"},"Filter",-1),F={class:"row items-center justify-end"};function V(t,e,o,a,s,n){const r=(0,l.up)("q-card-section"),c=(0,l.up)("q-btn"),d=(0,l.up)("q-date"),h=(0,l.up)("q-popup-proxy"),p=(0,l.up)("q-icon"),u=(0,l.up)("q-input"),m=(0,l.up)("q-select"),g=(0,l.up)("q-img"),f=(0,l.up)("q-item-section"),w=(0,l.up)("q-item-label"),_=(0,l.up)("q-item"),b=(0,l.up)("q-card-actions"),y=(0,l.up)("q-card"),v=(0,l.up)("q-dialog"),q=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(v,{modelValue:t.visible,"onUpdate:modelValue":e[5]||(e[5]=e=>t.visible=e),onHide:n.hide,position:"bottom"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{class:"card-bottom"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[D])),_:1}),(0,l.Wm)(r,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{modelValue:t.filter.date,"onUpdate:modelValue":e[1]||(e[1]=e=>t.filter.date=e),mask:"date",readonly:"",label:"Date"},{append:(0,l.w5)((()=>[(0,l.Wm)(p,{name:"event",class:"cursor-pointer"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{modelValue:t.filter.date,"onUpdate:modelValue":e[0]||(e[0]=e=>t.filter.date=e)},{default:(0,l.w5)((()=>[(0,l._)("div",F,[(0,l.wy)((0,l.Wm)(c,{label:"Close",color:"primary",flat:""},null,512),[[q]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(m,{"use-input":"","map-options":"","emit-value":"",label:"Champions","input-debounce":"0",modelValue:t.filter.champion_id,"onUpdate:modelValue":e[2]||(e[2]=e=>t.filter.champion_id=e),options:t.options.champions,onFilter:n.filterChampions},null,8,["modelValue","options","onFilter"]),(0,l.Wm)(m,{"use-input":"","map-options":"","emit-value":"",label:"Sport","input-debounce":"0",modelValue:t.filter.sport_id,"onUpdate:modelValue":e[3]||(e[3]=e=>t.filter.sport_id=e),options:t.options.sports,onFilter:n.filterSport},null,8,["modelValue","options","onFilter"]),(0,l.Wm)(m,{"use-input":"","map-options":"","emit-value":"",label:"School","input-debounce":"0",modelValue:t.filter.school_id,"onUpdate:modelValue":e[4]||(e[4]=e=>t.filter.school_id=e),options:t.options.schools,onFilter:n.filterSchool},{option:(0,l.w5)((t=>[(0,l.Wm)(_,(0,i.vs)((0,l.F4)(t.itemProps)),{default:(0,l.w5)((()=>[(0,l.Wm)(f,{avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{src:t.opt.icon},null,8,["src"])])),_:2},1024),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(t.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","onFilter"])])),_:1}),(0,l.Wm)(b,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{flat:"",icon:"backspace",label:"Clear Filter",color:"primary",onClick:n.clearFilter},null,8,["onClick"]),(0,l.Wm)(c,{unelevated:"",icon:"filter_alt",label:"Filter",color:"primary",onClick:n.onFilter},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])])}var L=o(7682);const I={school_id:null,champion_id:null,sport_id:null,date:null},P={props:{show:{type:Boolean,required:!0}},data:function(){return{visible:this.show,filter:{...I},options:{schools:[],champions:[],sports:[]},master:{schools:[],champions:[],sports:[]}}},watch:{show:function(t){this.visible=t,t||this.hide()}},mounted:function(){this.getSchools(),this.getChampions(),this.getSports()},methods:{clearFilter:function(){this.filter={...I},this.$emit("filter",this.filter),this.hide()},filterSchool:function(t,e){e((()=>{const e=t.toLowerCase();this.options.schools=this.master.schools.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}))},filterChampions:function(t,e){e((()=>{const e=t.toLowerCase();this.options.champions=this.master.champions.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}))},filterSport:function(t,e){e((()=>{const e=t.toLowerCase();this.options.sports=this.master.sports.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}))},getSchools:function(t=null){L.Z.loading(this),this.options.schools=[],this.master.schools=[],window.localStorage.removeItem("masterdata_schools");let e="school/list";e=L.Z.generateURLParams(e,"showall",!0),this.$api.get(e).then((t=>{const{data:e,message:o,status:l}=t.data;if(l){const t=[];e.list.map((e=>{t.push({label:e.name,value:e.id,icon:`${this.$host}/storage/school/logo/${e.logo}`})})),this.options.schools=[...t],this.master.schools=[...t],window.localStorage.setItem("masterdata_schools",JSON.stringify(t))}})).finally((()=>{this.filter.school_id="undefined"!==typeof this.$route.query.school_id?this.$route.query.school_id:null,L.Z.loading(this,!1)}))},getSports:function(t=null){this.options.sports=[],this.master.sports=[],window.localStorage.removeItem("masterdata_sports"),L.Z.loading(this);let e="sport/list";e=L.Z.generateURLParams(e,"showall",!0),null!==t&&(e=L.Z.generateURLParams(e,"champion_id",t)),this.$api.get(e).then((t=>{const{data:e,message:o,status:l}=t.data;if(l){const t=[];e.list.map((e=>{t.push({label:e.name,value:e.id})})),this.options.sports=[...t],this.master.sports=[...t],window.localStorage.setItem("masterdata_sports",JSON.stringify(t))}})).finally((()=>{L.Z.loading(this,!1)}))},getChampions:function(){this.options.champions=[],this.master.champions=[],window.localStorage.removeItem("masterdata_champions"),L.Z.loading(this);let t="championship/list";t=L.Z.generateURLParams(t,"showall",!0),this.$api.get(t).then((t=>{const{data:e,message:o,status:l}=t.data;if(l){const t=[];e.list.map((e=>{t.push({label:e.abbreviation,value:e.id})})),this.options.champions=[...t],this.master.champions=[...t],window.localStorage.setItem("masterdata_champions",JSON.stringify(t))}})).finally((()=>{L.Z.loading(this,!1)}))},onFilter:function(){this.$emit("filter",this.filter),this.hide()},hide:function(){this.visible=!1,this.$emit("hide")}}};var U=o(1639),z=o(2074),T=o(4458),R=o(3190),j=o(1852),M=o(2857),O=o(2765),H=o(7088),A=o(4455),B=o(8379),E=o(490),N=o(1233),J=o(335),Y=o(3115),K=o(1821),G=o(2146),X=o(9984),tt=o.n(X);const et=(0,U.Z)(P,[["render",V]]),ot=et;tt()(P,"components",{QDialog:z.Z,QCard:T.Z,QCardSection:R.Z,QInput:j.Z,QIcon:M.Z,QPopupProxy:O.Z,QDate:H.Z,QBtn:A.Z,QSelect:B.Z,QItem:E.Z,QItemSection:N.Z,QImg:J.Z,QItemLabel:Y.Z,QCardActions:K.Z}),tt()(P,"directives",{ClosePopup:G.Z});const lt=(0,l.aZ)({name:"IndexPage",components:{MatchFilter:ot},data:function(){return{logo:null,slide:0,banners:[],filter:{dialog:!1,data:{school_id:"undefined"!==typeof this.$route.query.school_id?this.$route.query.school_id:null,champion_id:null,sport_id:null,date:null}},loadingSchedule:!1,tab:"upcoming",has_filter:!1,schedules:[],pagination:{page:1,total_page:1}}},mounted:function(){this.getAppData();const t=this.$route.query.tab;"undefined"!==typeof t&&(this.tab=t,L.Z.scrollToElement(this.$refs.tab.$el)),null!==this.filter.data.school_id?(this.filter.data.school_id=this.filter.data.school_id,this.onFilter(this.filter.data)):this.getSchedule(),(0,Q.Z)({title:"Home"})},methods:{onFilter:async function(t){this.filter.data={...t},null!==this.filter.data.date&&(this.tab=null),await this.getSchedule(1),this.hideFilterDialog()},hideFilterDialog:function(){this.filter.dialog=!1},showFilterDialog:function(){this.filter.dialog=!0},loadMore:async function(t,e){const o=this.pagination.page;o<this.pagination.total_page&&(this.pagination.page=parseInt(o)+1,await this.getSchedule()),e()},redirect:function(t){setTimeout((()=>{window.open(`${this.$host}/schedule/${t}`)}),300)},refresh:async function(t){await this.getSchedule(1),t()},scheduleDate:function(t){const e=C().utc(t).local().format("D MMMM Y");return e},scheduleTime:function(t){const e=C().utc(t).local().format("hh:mm"),o=C().tz.guess(),l=C().tz(o).zoneAbbr();return`${e} ${l}`},getAppData(){this.$api.get("app/detail").then((t=>{const{data:e,message:o,status:l}=t.data;this.logo=e.logo}))},getSchedule:function(t=null){return null!==t&&(this.pagination.page=t),this.loadingSchedule=!0,new Promise(((t,e)=>{const o=this.pagination.page;let l="match-schedule/list";l=L.Z.generateURLParams(l,"page",o),l=L.Z.generateURLParams(l,"type",this.tab),this.has_filter=!1,Object.entries(this.filter.data).forEach((([t,e])=>{null!==e&&(this.has_filter=!0,l=L.Z.generateURLParams(l,t,e))})),this.$api.get(l).then((o=>{const{data:l,message:i,status:a}=o.data;a?(1===this.pagination.page?this.schedules=[...l.list]:this.schedules=this.schedules.concat(l.list),this.pagination={...this.pagination,page:l.pagination.page,total_page:l.pagination.total_page},t()):e()})).finally((()=>{this.loadingSchedule=!1}))}))}}});var it=o(9885),at=o(990),st=o(7817),nt=o(7661),rt=o(699),ct=o(6870),dt=o(2218),ht=o(7501),pt=o(854),ut=o(1136);const mt=(0,U.Z)(lt,[["render",k],["__scopeId","data-v-29b90861"]]),gt=mt;tt()(lt,"components",{QPage:it.Z,QBtn:A.Z,QBadge:at.Z,QTabs:st.Z,QTab:nt.Z,QPullToRefresh:rt.Z,QInfiniteScroll:ct.Z,QCard:T.Z,QCardSection:R.Z,QImg:J.Z,QSeparator:dt.Z,QSpinnerDots:ht.Z,QInnerLoading:pt.Z}),tt()(lt,"directives",{Ripple:ut.Z})}}]);